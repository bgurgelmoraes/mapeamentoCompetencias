<PageTitle>Teste de Lista de Competências</PageTitle>

<MudAppBar>
    <MudText Typo="Typo.h6">MudBlazor App</MudText>
</MudAppBar>

<MudContainer Class="mt-8">
    @foreach (var tipo in tipos)
    {
        <MudExpansionPanel Text="@tipo.NomeTipo">
            @foreach (var competencia in tipo.Competencias)
            {
                <MudCard Style="margin-bottom: 8px;">
                    <MudCardContent>
                        <MudText>@competencia.NomeCompetencia</MudText>
                        <MudDivider />
                        @for (int i = 0; i < 5; i++)
                        {
                            if (i < competencia.Avaliacao)
                            {
                                <MudIcon Icon ="@Icons.Material.Filled.Star" Title="FilledStar" style="color: #FFEB3B" />
                            }
                            else
                            {
                                <MudIcon Icon ="@Icons.Material.Filled.StarBorder" Title="FilledStarBorder" />
                            }
                        }
                    </MudCardContent>
                    <MudCardActions>
                        <MudButton Variant="Variant.Text" Color="Color.Primary">Alterar avaliação</MudButton>
                    </MudCardActions>
                </MudCard>
            }
        </MudExpansionPanel>
    }
</MudContainer>

@code {
    public class Tipo
    {
        public string? NomeTipo { get; set; }
        public List<Competencia>? Competencias { get; set; }
    }

    public class Competencia
    {
        public string? NomeCompetencia { get; set; }
        public int Avaliacao { get; set; }
    }

    private List<Tipo> tipos = new List<Tipo>
    {
        new Tipo
        {
            NomeTipo = "Tipo 1",
            Competencias = new List<Competencia>
            {
                new Competencia { NomeCompetencia = "Competência 1", Avaliacao = 3 },
                new Competencia { NomeCompetencia = "Competência 2", Avaliacao = 4 }
            }
        },
        new Tipo
        {
            NomeTipo = "Tipo 2",
            Competencias = new List<Competencia>
            {
                new Competencia { NomeCompetencia = "Competência 3", Avaliacao = 5 },
                new Competencia { NomeCompetencia = "Competência 4", Avaliacao = 2 }
            }
        }
    };
}

